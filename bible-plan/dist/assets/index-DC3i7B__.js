var G=Object.defineProperty;var H=(o,e,s)=>e in o?G(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var c=(o,e,s)=>(H(o,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();class u{}c(u,"Times",["12:00 AM","12:30 AM","1:00 AM","1:30 AM","2:00 AM","2:30 AM","3:00 AM","3:30 AM","4:00 AM","4:30 AM","5:00 AM","5:30 AM","6:00 AM","6:30 AM","7:00 AM","7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM","9:00 PM","9:30 PM","10:00 PM","10:30 PM","11:00 PM","11:30 PM"]),c(u,"Days",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);class q{constructor(){c(this,"Name","Your_plan_name");c(this,"Books");c(this,"StartDate");c(this,"EndDate");c(this,"ReadingTime");c(this,"ReadingDays");this.Name="Your_plan_name",this.Books=[],this.StartDate=new Date,this.EndDate=new Date(this.StartDate.getTime()+14*24*60*60*1e3),this.ReadingTime=u.Times[25],this.ReadingDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}class l{}c(l,"OldTestament",["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"]),c(l,"NewTestament",["Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"]),c(l,"NumberOfChapters",{Genesis:50,Exodus:40,Leviticus:27,Numbers:36,Deuteronomy:34,Joshua:24,Judges:21,Ruth:4,"1 Samuel":31,"2 Samuel":24,"1 Kings":22,"2 Kings":25,"1 Chronicles":29,"2 Chronicles":36,Ezra:10,Nehemiah:13,Esther:10,Job:42,Psalms:150,Proverbs:31,Ecclesiastes:12,"Song of Solomon":8,Isaiah:66,Jeremiah:52,Lamentations:5,Ezekiel:48,Daniel:12,Hosea:14,Joel:3,Amos:9,Obadiah:1,Jonah:4,Micah:7,Nahum:3,Habakkuk:3,Zephaniah:3,Haggai:2,Zechariah:14,Malachi:4,Matthew:28,Mark:16,Luke:24,John:21,Acts:28,Romans:16,"1 Corinthians":16,"2 Corinthians":13,Galatians:6,Ephesians:6,Philippians:4,Colossians:4,"1 Thessalonians":5,"2 Thessalonians":3,"1 Timothy":6,"2 Timothy":4,Titus:3,Philemon:1,Hebrews:13,James:5,"1 Peter":5,"2 Peter":3,"1 John":5,"2 John":1,"3 John":1,Jude:1,Revelation:22}),c(l,"ChapterWordCounts",{Genesis:[797,632,695,632,505,579,584,586,658,496,606,536,457,606,471,412,679,867,1108,498,775,629,539,1816,706,889,1262,621,829,1022,1417,794,508,790,664,845,942,819,666,580,1404,977,938,874,731,766,965,639,766,687],Exodus:[457,657,791,891,594,753,692,936,982,899,325,1493,675,931,713,1062,465,760,702,561,893,790,827,492,926,937,558,1235,1341,970,438,1092,710,1003,820,892,738,831,1030,821],Leviticus:[525,486,511,1157,723,892,1056,988,624,628,1115,262,1857,1713,919,1157,553,667,898,836,587,880,1222,551,1531,1246,956],Numbers:[1333,828,1291,1416,898,742,1939,687,722,891,1056,384,741,1180,1069,1341,335,1111,683,791,931,1201,743,659,445,1446,610,779,954,503,1208,1009,927,630,965,445],Deuteronomy:[1262,1021,815,1503,921,643,843,566,963,604,950,1055,627,707,707,710,707,611,608,646,731,894,685,681,562,667,599,2075,851,665,1041,1306,805,320],Joshua:[573,768,566,706,550,904,926,1221,800,1393,717,486,825,485,1032,253,660,770,944,308,1026,1321,574,1044],Judges:[962,692,842,761,755,1295,952,987,1667,473,1235,399,765,706,648,1110,385,1035,1102,1455,740],Ruth:[649,763,541,621],"1 Samuel":[782,1104,549,733,439,752,510,541,990,862,503,771,697,1606,981,680,1719,845,696,1289,499,761,831,661,1452,849,385,835,421,956,348],"2 Samuel":[712,911,1143,434,624,713,858,447,408,608,814,992,1148,1117,1118,738,935,1096,1473,848,778,951,878,855],"1 Kings":[1499,1510,850,706,527,1018,1482,2139,826,839,1253,1038,1138,987,951,1035,680,1397,732,1480,908,1517],"2 Kings":[669,848,848,1368,975,1019,824,954,1205,1203,738,688,775,881,1092,656,1245,1221,1148,660,747,712,1477,584,982],"1 Chronicles":[683,846,347,852,664,1341,831,491,960,364,944,987,386,357,714,850,779,399,630,289,914,605,681,541,543,710,805,864,988],"2 Chronicles":[530,645,481,595,497,1402,748,536,882,559,486,481,642,448,518,479,459,1051,352,1148,623,444,788,933,970,721,244,896,1157,869,757,1084,780,1223,900,741],Ezra:[371,998,547,769,583,778,863,990,617,924],Nehemiah:[390,718,896,716,636,602,1176,686,1328,652,788,930,962],Esther:[716,806,552,517,494,476,343,649,984,93],Job:[641,387,434,336,447,482,394,340,544,402,337,399,413,410,549,375,262,342,475,521,522,482,280,481,90,206,373,455,404,514,691,375,524,615,254,495,402,659,477,361,507,441],Psalms:[130,206,139,165,245,159,327,166,367,350,128,147,107,149,99,206,311,918,272,144,246,581,118,178,342,183,340,201,179,231,498,241,350,347,564,223,702,361,270,400,240,281,130,451,327,204,143,229,337,400,322,165,152,110,435,225,230,218,339,211,133,228,194,184,267,327,111,698,670,102,471,369,423,413,189,193,330,1225,277,334,288,116,273,226,207,313,113,296,879,320,288,258,92,356,199,226,189,170,157,86,173,455,342,598,632,762,685,206,534,142,177,172,142,106,274,287,33,465,2423,88,110,124,94,121,108,94,110,101,119,116,60,276,69,44,329,353,165,172,410,239,203,151,252,302,331,178,299,202,143,85],Proverbs:[519,309,541,418,354,546,411,562,288,527,524,476,400,572,544,543,476,381,506,498,501,495,566,580,522,459,460,528,425,640,467],Ecclesiastes:[380,734,517,380,533,301,618,515,555,402,273,372],"Song of Solomon":[326,351,287,363,397,282,292,360],Isaiah:[758,568,587,210,863,366,693,558,599,928,519,134,576,856,266,415,428,255,730,169,417,675,469,592,381,550,405,814,742,1059,322,436,585,522,277,690,1131,592,268,796,804,676,711,886,774,342,471,627,867,365,771,405,387,493,399,361,569,522,591,665,380,362,538,308,753,811],Jeremiah:[528,1019,802,861,874,827,970,706,772,674,749,544,739,688,702,699,829,659,541,594,498,837,1186,361,1138,800,762,540,1005,717,1294,1432,842,824,657,1110,611,984,545,681,664,774,460,1228,152,821,215,1172,1180,1460,1853,1074],Lamentations:[758,883,876,598,296],Ezekiel:[870,273,809,519,628,470,768,655,400,659,721,799,738,746,205,1820,773,919,356,1601,945,840,1322,774,508,727,907,809,714,760,679,1077,1071,958,402,1180,870,776,928,1530,802,568,907,1031,882,880,780,1045],Daniel:[589,1500,992,1290,995,905,926,852,966,647,1530,411],Hosea:[355,678,156,465,368,254,398,330,468,425,308,311,426,232],Joel:[508,957,568],Amos:[455,441,397,432,658,399,471,414,549],Obadiah:[669],Jonah:[514,214,260,332],Micah:[452,400,354,476,447,440,583],Nahum:[394,371,519],Habakkuk:[423,563,489],Zephaniah:[556,463,598],Haggai:[451,679],Zechariah:[622,317,296,365,338,424,378,703,537,408,502,462,337,754],Malachi:[487,546,565,183],Matthew:[473,619,387,557,1081,794,626,773,837,919,668,1168,1367,721,785,688,620,869,719,779,1126,828,833,1047,995,1625,1359,421],Mark:[930,724,663,923,952,1323,806,842,1164,1218,778,1058,828,1595,913,449],Luke:[1583,1094,1017,1021,949,1229,1209,1431,1457,992,1331,1407,864,812,725,752,809,868,1047,954,820,1396,1116,1055],John:[1004,510,763,1094,1001,1506,1002,1307,876,820,1157,1060,826,731,613,789,636,947,1010,749,693],Acts:[661,1021,634,865,1026,355,1430,883,1046,1108,667,662,1273,627,925,943,855,664,975,882,1067,773,921,640,711,781,1033,818],Romans:[714,604,562,546,480,484,605,903,719,461,818,397,361,525,742,501],"1 Corinthians":[649,373,459,509,321,465,959,309,672,667,718,593,270,887,1166,446],"2 Corinthians":[591,401,389,406,487,358,452,568,355,437,718,589,315],Galatians:[453,573,648,610,447,353],Ephesians:[508,453,410,617,564,470],Philippians:[632,601,483,467],Colossians:[656,503,457,363],"1 Thessalonians":[253,479,295,396,414],"2 Thessalonians":[291,381,350],"1 Timothy":[432,247,324,310,470,461],"2 Timothy":[438,506,297,426],Titus:[337,265,294],Philemon:[430],Hebrews:[338,472,362,404,321,425,607,387,678,784,922,696,501],James:[544,528,378,369,485],"1 Peter":[597,549,551,479,300],"2 Peter":[488,581,484],"1 John":[247,735,534,480,520],"2 John":[298],"3 John":[294],Jude:[608],Revelation:[592,802,658,348,435,540,491,397,592,353,580,497,538,651,252,567,522,747,634,477,749,573]});class U{constructor(){c(this,"Day");c(this,"ToReadToday","")}}class J{async getDaysInPlan(e){return(e.EndDate.getTime()-e.StartDate.getTime())/(1e3*60*60*24)+1}async getTotalNumberOfDays(e){return await Math.floor(e)}async getAverageDailyWordCount(e,s){return s/e}async getTotalChapters(e){let s=0;for(const a of e.Books){const t=l.NumberOfChapters[a];s+=t}return s}async getTotalPlanLength(e){let s=0;for(const a of e.Books){let t=0;const n=l.ChapterWordCounts[a];for(const i of n)t+=i;s+=t}return s}}class W{constructor(e){c(this,"_plan");c(this,"_readingDays");c(this,"_daysInPlan");c(this,"_logic",new J);c(this,"_calendarFeed",[]);this._readingDays=e.ReadingDays,this._plan=e}async getDates(){await this.getTotalDays(this._plan);let e=new Date(this._plan.StartDate.getTime());for(let s=0;s<this._daysInPlan;s++){for(const a of this._readingDays)e.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===a.toLowerCase()&&this._calendarFeed.push(e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}));e.setDate(e.getDate()+1)}return this._calendarFeed}async getTotalDays(e){const s=await this._logic.getDaysInPlan(e);this._daysInPlan=await this._logic.getTotalNumberOfDays(s)}}class x{constructor(){c(this,"_runningCount");c(this,"_totalDays");c(this,"_averageDailyWordCount");c(this,"_chaptersRemaining");c(this,"_logic",new J);c(this,"SelectedDates");c(this,"dates");c(this,"readings",[])}async GetPlanData(e){this.SelectedDates=new W(e),this.dates=await this.SelectedDates.getDates(),this._runningCount=await this._logic.getTotalPlanLength(e),this._totalDays=await this.dates.length,this._averageDailyWordCount=await this._logic.getAverageDailyWordCount(this._totalDays,this._runningCount),this._chaptersRemaining=await this._logic.getTotalChapters(e)}async GenerateReadings(e){this.readings=[],await this.GetPlanData(e);let s=this._totalDays;const a=e.Books,t=a.length;let n=0,i=0;for(;s>0;){let d;const f=new U;if(this.readings.push(f),n>=t)break;let p=l.NumberOfChapters[a[n]];if(i>=p){if(n++,n>=t)break;p=l.NumberOfChapters[a[n]],i=0}f.ToReadToday=a[n]==="Psalms"?`Psalm ${i+1}`:`${a[n]} ${i+1}`;let v=l.ChapterWordCounts[a[n]];for(d=v[i];d<this._runningCount/s-100&&s!==this._chaptersRemaining;){if(i++,this._chaptersRemaining--,i>=p){if(n++,n>=t)break;p=l.NumberOfChapters[a[n]],i=0}if(n>=t)break;if(f.ToReadToday+=i===0?`, ${a[n]} ${i+1}`:`, ${i+1}`,n<t){v=l.ChapterWordCounts[a[n]];try{d+=v[i]}catch{break}}}this._runningCount-=d,i++,this._chaptersRemaining--,i>=p&&(n++,i=0),s--}return{Readings:this.readings,Dates:this.dates}}}class V{async generateCalendar(e){var a=await new x().GenerateReadings(e);let t=a.Dates||[];var n=a.Readings||[],i="Date,Reading";for(let d=0;d<t.length;d++){let f=t[d].split(",");i+=`
${f[0]},"${n[d].ToReadToday}"`}return i}}class z{async generateCalendar(e){let a=await new x().GenerateReadings(e),t=a.Dates||[],n=a.Readings||[];return this.buildEvents(t,n,e)}buildEvents(e,s,a){let t=[];for(let n=0;n<e.length;n++){let i=`${e[n]} ${a.ReadingTime}`,d=new Date(i);t.push("BEGIN:VEVENT"),t.push(`SUMMARY:${s[n].ToReadToday}`),t.push(`DTSTART:${d.toISOString().replace(/[-:]/g,"").split(".")[0]}Z`),t.push("END:VEVENT")}return t.join(`
`)}}class K{async generateCalendar(e){const a=await new x().GenerateReadings(e);let t={name:`${e.Name}`};for(let n=0;n<a.Dates.length;n++){let i=a.Dates[n].split(",");t[`${i[0]}`]=`${a.Readings[n].ToReadToday}`}return t}}let r=new q,I=new Date;const C=document.getElementById("plan-name");C.addEventListener("input",()=>{document.title=`Your Plan: ${C.value}`});const w=document.getElementById("start-date"),E=I;w.min=y(E);const T=document.getElementById("end-date");E.setDate(E.getDate()+14);T.min=y(E);const M=I;M.setDate(M.getDate()+730);w.max=y(M);T.max=y(M);function y(o){const e=o.getFullYear(),s=(o.getMonth()+1).toString().padStart(2,"0"),a=o.getDate().toString().padStart(2,"0");return`${e}-${s}-${a}`}function _(o){const[e,s,a]=o.split("-").map(Number);return new Date(e,s-1,a)}const P=document.getElementById("time");for(let o=0;o<u.Times.length;o++){let e=document.createElement("option");e.value=u.Times[o],e.textContent=u.Times[o],P.appendChild(e)}P.addEventListener("change",function(){r.ReadingTime=P.value});const m=document.querySelector(".expand-ot");m==null||m.addEventListener("click",()=>{k.classList.toggle("expanded"),m.textContent=="+"?m.textContent="-":m.textContent="+"});const g=document.querySelector(".expand-nt");g==null||g.addEventListener("click",()=>{D.classList.toggle("expanded"),g.textContent=="+"?g.textContent="-":g.textContent="+"});const A=document.querySelector(".days-checkboxes");L(A,u.Days,!0);A.addEventListener("change",o=>{const e=o.target;if(e&&e.type==="checkbox"){const s=e.value;e.checked?r.ReadingDays.includes(s)||r.ReadingDays.push(s):r.ReadingDays=r.ReadingDays.filter(a=>a!==s)}});const R=document.getElementById("ot-master-checkbox");R.addEventListener("change",()=>{$(R,k)});const k=document.querySelector(".ot-checkboxes");L(k,l.OldTestament,!1);k.addEventListener("change",o=>{O(o)});const S=document.getElementById("nt-master-checkbox");S.addEventListener("change",()=>{$(S,D)});const D=document.querySelector(".nt-checkboxes");L(D,l.NewTestament,!1);D.addEventListener("change",o=>{O(o)});F();function O(o){const e=o.target;if(e&&e.type==="checkbox"){const s=e.value;e.checked?r.Books.includes(s)||r.Books.push(s):r.Books=r.Books.filter(a=>a!==s)}}function $(o,e){const s=e.querySelectorAll('input[type="checkbox"]');o.checked?s.forEach(a=>{const t=a;t.checked=!0,r.Books.includes(t.value)||r.Books.push(t.value)}):s.forEach(a=>{const t=a;t.checked=!1;var n=r.Books.indexOf(t.value);n!==-1?r.Books.splice(n,1):r.Books.pop()})}function L(o,e,s){for(let a=0;a<e.length;a++){let t=document.createElement("div");t.classList.add("checkbox-wrapper");let n=document.createElement("label");n.htmlFor=e[a],n.appendChild(document.createTextNode(e[a]));let i=document.createElement("input");i.type="checkbox",i.name=e[a],i.id=e[a],i.value=e[a],s&&(i.checked=!0),t.appendChild(i),t.appendChild(n),o.appendChild(t)}}const Y=document.getElementById("csv");Y.addEventListener("click",async function(){N();let o=new V;if(await B())try{let e=await o.generateCalendar(r);const s=new Blob([e],{type:"text/csv"}),a=document.createElement("a"),t=URL.createObjectURL(s);a.href=t,a.download=`${r.Name}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch{await h("error","An error occurred. Please try again.")}});const Z=document.getElementById("ical");Z.addEventListener("click",async function(){N();let o=new z;if(await B())try{let s=`BEGIN:VCALENDAR
VERSION:2.0
${await o.generateCalendar(r)}
END:VCALENDAR`;const a=new Blob([s],{type:"text/calendar"}),t=document.createElement("a"),n=URL.createObjectURL(a);t.href=n,t.download=`${r.Name}.ics`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n)}catch{await h("error","An error occurred. Please try again.")}});const j=document.getElementById("print");j.addEventListener("click",async function(){N();let o=new K;if(await B())try{let e=await o.generateCalendar(r);sessionStorage.setItem("calendarData",JSON.stringify(e)),window.open("print.html","_blank")}catch{await h("error","An error occurred. Please try again.")}});const Q=document.getElementById("clear");Q.addEventListener("click",F);function F(){C.value=r.Name,w.value=y(r.StartDate),T.value=y(r.EndDate),P.selectedIndex=0,A.querySelectorAll('input[type="checkbox"]').forEach(t=>{const n=t;n.checked=!0}),R.checked=!1;let e=k.querySelectorAll('input[type="checkbox"]');S.checked=!1;let s=D.querySelectorAll('input[type="checkbox"]');[...e,...s].forEach(t=>{const n=t;n.checked=!1;var i=r.Books.indexOf(n.value);i!==-1?r.Books.splice(i,1):r.Books.pop()}),r.Books=[]}function N(){r.Name=C.value,r.StartDate=_(w.value),r.EndDate=_(T.value)}async function B(){return r.Name==""?(await h("alert","Please provide a Bible reading plan name."),!1):r.ReadingDays.length==0?(await h("alert","You selected no days of the week to read. Are you trying to get me to divide by zero?"),!1):r.Books.length==0?(await h("alert","Don't you think you should add some books?"),!1):X()>ee()?(await h("alert","You have more reading days than chapters to read. Please add more books."),!1):!0}let b=document.querySelector("aside");async function h(o,e){b.classList.toggle(o),b.textContent=e,setTimeout(function(){b.classList.toggle(o),b.textContent=""},3500)}function X(){return(r.EndDate.getTime()-r.StartDate.getTime())/(1e3*60*60*24)}function ee(){let o=0;return r.Books.forEach(e=>{o+=l.NumberOfChapters[e]}),o}
